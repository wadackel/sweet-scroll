/*!
 * sweet-scroll
 * Modern and the sweet smooth scroll library.
 * 
 * @author tsuyoshiwada
 * @homepage https://github.com/tsuyoshiwada/sweet-scroll
 * @license MIT
 * @version 0.7.0
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.SweetScroll=n()}(this,function(){"use strict";function t(t){return null==t?t+"":"object"===("undefined"==typeof t?"undefined":lt["typeof"](t))||"function"==typeof t?ct[Object.prototype.toString.call(t)]||"object":"undefined"==typeof t?"undefined":lt["typeof"](t)}function n(t){return Array.isArray(t)}function e(t){var n=null==t?null:t.length;return i(n)&&n>=0&&ut>=n}function o(e){return!n(e)&&"object"===t(e)}function i(n){return"number"===t(n)}function r(n){return"string"===t(n)}function l(n){return"function"===t(n)}function u(t){return!n(t)&&t-parseFloat(t)+1>=0}function a(t,n){return t&&t.hasOwnProperty(n)}function c(t){for(var n=arguments.length,e=Array(n>1?n-1:0),o=1;n>o;o++)e[o-1]=arguments[o];return s(e,function(n){s(n,function(n,e){t[e]=n})}),t}function s(t,n,i){if(null==t)return t;if(i=i||t,o(t)){for(var r in t)if(a(t,r)&&n.call(i,t[r],r)===!1)break}else if(e(t)){var l=void 0,u=t.length;for(l=0;u>l&&n.call(i,t[l],l)!==!1;l++);}return t}function h(t){return t.replace(/\s*/g,"")||""}function f(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(t)return(null==n?document:n).querySelector(t)}function p(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(t)return(null==n?document:n).querySelectorAll(t)}function d(t,n){for(var e=(t.document||t.ownerDocument).querySelectorAll(n),o=e.length;--o>=0&&e.item(o)!==t;);return o>-1}function v(t){var n=document;return t===n.documentElement||t===n.body}function g(t){for(var n=arguments.length<=1||void 0===arguments[1]?"y":arguments[1],e=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],o=st[n],i=t instanceof Element?[t]:p(t),r=[],l=document.createElement("div"),u=0;u<i.length;u++){var a=i[u];if(a[o]>0?r.push(a):(l.style.width=a.clientWidth+1+"px",l.style.height=a.clientHeight+1+"px",a.appendChild(l),a[o]=1,a[o]>0&&r.push(a),a[o]=0,a.removeChild(l)),!e&&r.length>0)break}return r}function y(t,n){var e=g(t,n,!1);return e.length>=1?e[0]:void 0}function m(t){return null!=t&&t===t.window?t:9===t.nodeType&&t.defaultView}function S(t){return Math.max(t.scrollHeight,t.clientHeight,t.offsetHeight)}function C(t){return Math.max(t.scrollWidth,t.clientWidth,t.offsetWidth)}function w(t){return{width:C(t),height:S(t)}}function k(){return{width:Math.max(C(document.body),C(document.documentElement)),height:Math.max(S(document.body),S(document.documentElement))}}function b(t){return v(t)?{viewport:{width:Math.min(window.innerWidth,document.documentElement.clientWidth),height:window.innerHeight},size:k()}:{viewport:{width:t.clientWidth,height:t.clientHeight},size:w(t)}}function O(t){var n=arguments.length<=1||void 0===arguments[1]?"y":arguments[1],e=m(t);return e?e[ht[n]]:t[st[n]]}function x(t,n){var e=arguments.length<=2||void 0===arguments[2]?"y":arguments[2],o=m(t),i="y"===e;o?o.scrollTo(i?o[ht.x]:n,i?n:o[ht.y]):t[st[e]]=n}function _(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(!t||t&&!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect();if(e.width||e.height){var o={},i=void 0;if(null==n||v(n))i=t.ownerDocument.documentElement,o.top=window.pageYOffset,o.left=window.pageXOffset;else{i=n;var r=i.getBoundingClientRect();o.top=-1*r.top+i.scrollTop,o.left=-1*r.left+i.scrollLeft}return{top:e.top+o.top-i.clientTop,left:e.left+o.left-i.clientLeft}}return e}function I(t,n,e){var o=n.split(",");o.forEach(function(n){t.addEventListener(n.trim(),e,!1)})}function L(t,n,e){var o=n.split(",");o.forEach(function(n){t.removeEventListener(n.trim(),e,!1)})}function E(t){return t}function M(t,n,e,o,i){return o*(n/=i)*n+e}function A(t,n,e,o,i){return-o*(n/=i)*(n-2)+e}function z(t,n,e,o,i){return(n/=i/2)<1?o/2*n*n+e:-o/2*(--n*(n-2)-1)+e}function T(t,n,e,o,i){return o*(n/=i)*n*n+e}function D(t,n,e,o,i){return o*((n=n/i-1)*n*n+1)+e}function Q(t,n,e,o,i){return(n/=i/2)<1?o/2*n*n*n+e:o/2*((n-=2)*n*n+2)+e}function j(t,n,e,o,i){return o*(n/=i)*n*n*n+e}function B(t,n,e,o,i){return-o*((n=n/i-1)*n*n*n-1)+e}function P(t,n,e,o,i){return(n/=i/2)<1?o/2*n*n*n*n+e:-o/2*((n-=2)*n*n*n-2)+e}function R(t,n,e,o,i){return o*(n/=i)*n*n*n*n+e}function H(t,n,e,o,i){return o*((n=n/i-1)*n*n*n*n+1)+e}function W(t,n,e,o,i){return(n/=i/2)<1?o/2*n*n*n*n*n+e:o/2*((n-=2)*n*n*n*n+2)+e}function q(t,n,e,o,i){return-o*dt(n/i*(Ct/2))+o+e}function F(t,n,e,o,i){return o*vt(n/i*(Ct/2))+e}function U(t,n,e,o,i){return-o/2*(dt(Ct*n/i)-1)+e}function $(t,n,e,o,i){return 0===n?e:o*gt(2,10*(n/i-1))+e}function N(t,n,e,o,i){return n===i?e+o:o*(-gt(2,-10*n/i)+1)+e}function X(t,n,e,o,i){return 0===n?e:n===i?e+o:(n/=i/2)<1?o/2*gt(2,10*(n-1))+e:o/2*(-gt(2,-10*--n)+2)+e}function Y(t,n,e,o,i){return-o*(mt(1-(n/=i)*n)-1)+e}function J(t,n,e,o,i){return o*mt(1-(n=n/i-1)*n)+e}function V(t,n,e,o,i){return(n/=i/2)<1?-o/2*(mt(1-n*n)-1)+e:o/2*(mt(1-(n-=2)*n)+1)+e}function G(t,n,e,o,i){var r=1.70158,l=0,u=o;return 0===n?e:1===(n/=i)?e+o:(l||(l=.3*i),u<yt(o)?(u=o,r=l/4):r=l/(2*Ct)*St(o/u),-(u*gt(2,10*(n-=1))*vt((n*i-r)*(2*Ct)/l))+e)}function K(t,n,e,o,i){var r=1.70158,l=0,u=o;return 0===n?e:1===(n/=i)?e+o:(l||(l=.3*i),u<yt(o)?(u=o,r=l/4):r=l/(2*Ct)*St(o/u),u*gt(2,-10*n)*vt((n*i-r)*(2*Ct)/l)+o+e)}function Z(t,n,e,o,i){var r=1.70158,l=0,u=o;return 0===n?e:2===(n/=i/2)?e+o:(l||(l=i*(.3*1.5)),u<yt(o)?(u=o,r=l/4):r=l/(2*Ct)*St(o/u),1>n?-.5*(u*gt(2,10*(n-=1))*vt((n*i-r)*(2*Ct)/l))+e:u*gt(2,-10*(n-=1))*vt((n*i-r)*(2*Ct)/l)*.5+o+e)}function tt(t,n,e,o,i){var r=arguments.length<=5||void 0===arguments[5]?1.70158:arguments[5];return o*(n/=i)*n*((r+1)*n-r)+e}function nt(t,n,e,o,i){var r=arguments.length<=5||void 0===arguments[5]?1.70158:arguments[5];return o*((n=n/i-1)*n*((r+1)*n+r)+1)+e}function et(t,n,e,o,i){var r=arguments.length<=5||void 0===arguments[5]?1.70158:arguments[5];return(n/=i/2)<1?o/2*(n*n*(((r*=1.525)+1)*n-r))+e:o/2*((n-=2)*n*(((r*=1.525)+1)*n+r)+2)+e}function ot(t,n,e,o,i){return o-it(t,i-n,0,o,i)+e}function it(t,n,e,o,i){return(n/=i)<1/2.75?o*(7.5625*n*n)+e:2/2.75>n?o*(7.5625*(n-=1.5/2.75)*n+.75)+e:2.5/2.75>n?o*(7.5625*(n-=2.25/2.75)*n+.9375)+e:o*(7.5625*(n-=2.625/2.75)*n+.984375)+e}function rt(t,n,e,o,i){return i/2>n?.5*ot(t,2*n,0,o,i)+e:.5*it(t,2*n-i,0,o,i)+.5*o+e}var lt={};lt["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},lt.classCallCheck=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},lt.createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}();var ut=Math.pow(2,53)-1,at=["Boolean","Number","String","Function","Array","Object"],ct={};at.forEach(function(t){ct["[object "+t+"]"]=t.toLowerCase()});var st={y:"scrollTop",x:"scrollLeft"},ht={y:"pageYOffset",x:"pageXOffset"},ft=function(){var t=navigator.userAgent;return-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone")?window.history&&"pushState"in window.history&&"file:"!==window.location.protocol:!1}(),pt=Math,dt=pt.cos,vt=pt.sin,gt=pt.pow,yt=pt.abs,mt=pt.sqrt,St=pt.asin,Ct=pt.PI,wt=Object.freeze({linear:E,InQuad:M,OutQuad:A,InOutQuad:z,InCubic:T,OutCubic:D,InOutCubic:Q,InQuart:j,OutQuart:B,InOutQuart:P,InQuint:R,OutQuint:H,InOutQuint:W,InSine:q,OutSine:F,InOutSine:U,InExpo:$,OutExpo:N,InOutExpo:X,InCirc:Y,OutCirc:J,InOutCirc:V,InElastic:G,OutElastic:K,InOutElastic:Z,InBack:tt,OutBack:nt,InOutBack:et,InBounce:ot,OutBounce:it,InOutBounce:rt}),kt=0,bt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){var n=Date.now(),e=Math.max(0,16-(n-kt)),o=window.setTimeout(function(){t(n+e)},e);return kt=n+e,o},Ot=function(){function t(n){lt.classCallCheck(this,t),this.el=n,this.props={},this.options={},this.progress=!1,this.startTime=null}return lt.createClass(t,[{key:"run",value:function(t,n,e){var o=this;this.progress||(this.props={x:t,y:n},this.options=e,this.options.easing=e.easing.replace("ease",""),this.progress=!0,setTimeout(function(){o.startProps={x:O(o.el,"x"),y:O(o.el,"y")},bt(function(t){return o._loop(t)})},this.options.delay))}},{key:"stop",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],n=this.options.complete;this.startTime=null,this.progress=!1,t&&(x(this.el,this.props.x,"x"),x(this.el,this.props.y,"y")),l(n)&&(n.call(this),this.options.complete=null)}},{key:"_loop",value:function(t){var n=this;if(this.startTime||(this.startTime=t),!this.progress)return void this.stop(!1);var e=this.el,o=this.props,i=this.options,r=this.startTime,l=this.startProps,u=i.duration,a=i.step,c={},h=wt[this.options.easing],f=t-r,p=Math.min(1,Math.max(f/u,0));s(o,function(t,n){var e=l[n],o=t-e;if(0===o)return!0;var i=h(p,u*p,0,1,u);c[n]=Math.round(e+o*i)}),s(c,function(t,n){x(e,t,n)}),u>=f?(a.call(this,p,c),bt(function(t){return n._loop(t)})):this.stop(!0)}}]),t}(),xt=window,_t=document,It="onwheel"in _t?"wheel":"onmousewheel"in _t?"mousewheel":"DOMMouseScroll",Lt=It+", touchstart, touchmove",Et="DOMContentLoaded",Mt=!1;I(_t,Et,function(){Mt=!0});var At=function(){function t(){var n=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=arguments.length<=1||void 0===arguments[1]?"body, html":arguments[1];lt.classCallCheck(this,t);var i=c({},t.defaults,e);this.options=i,this.getContainer(o,function(t){n.container=t,n.header=f(i.header),n.tween=new Ot(t),n._trigger=null,n._shouldCallCancelScroll=!1,n.bindContainerClick(),n.hook(i,"initialized")})}return lt.createClass(t,[{key:"to",value:function(t){var n=this,e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=this.container,i=this.header,l=c({},this.options,e);this._options=l;var u=this.parseCoodinate(l.offset),a=this._trigger,s=this.parseCoodinate(t),h=null;if(this._trigger=null,this._shouldCallCancelScroll=!1,this.stop(),o){if(!s&&r(t))if(h=/^#/.test(t)?t:null,"#"===t)s={top:0,left:0};else{var p=f(t),d=_(p,o);if(!d)return;s=d}if(s){u&&(s.top+=u.top,s.left+=u.left),i&&(s.top=Math.max(0,s.top-w(i).height));var v=b(o),g=v.viewport,y=v.size;this.hook(l,"beforeScroll",s,a)!==!1&&(s.top=l.verticalScroll?Math.max(0,Math.min(y.height-g.height,s.top)):O(o,"y"),s.left=l.horizontalScroll?Math.max(0,Math.min(y.width-g.width,s.left)):O(o,"x"),this.tween.run(s.left,s.top,{duration:l.duration,delay:l.delay,easing:l.easing,complete:function(){null!=h&&h!==window.location.hash&&l.updateURL&&n.updateURLHash(h),n.unbindContainerStop(),n._options=null,n._shouldCallCancelScroll?n.hook(l,"cancelScroll"):n.hook(l,"afterScroll",s,a),n.hook(l,"completeScroll",n._shouldCallCancelScroll)},step:function(t,e){n.hook(l,"stepScroll",t,e)}}),this.bindContainerStop())}}}},{key:"toTop",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.to(t,c({},n,{verticalScroll:!0,horizontalScroll:!1}))}},{key:"toLeft",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.to(t,c({},n,{verticalScroll:!1,horizontalScroll:!0}))}},{key:"toElement",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(t instanceof Element){var e=_(t,this.container);this.to(e,c({},n))}}},{key:"stop",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this._stopScrollListener&&(this._shouldCallCancelScroll=!0),this.tween.stop(t)}},{key:"update",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.stop(),this.unbindContainerClick(),this.unbindContainerStop(),this.options=c({},this.options,t),this.header=f(this.options.header),this.bindContainerClick()}},{key:"destroy",value:function(){this.stop(),this.unbindContainerClick(),this.unbindContainerStop(),this.container=null,this.header=null,this.tween=null}},{key:"initialized",value:function(){}},{key:"beforeScroll",value:function(t,n){return!0}},{key:"cancelScroll",value:function(){}},{key:"afterScroll",value:function(t,n){}},{key:"completeScroll",value:function(t){}},{key:"stepScroll",value:function(t,n){}},{key:"parseCoodinate",value:function(t){var e=this._options?this._options.verticalScroll:this.options.verticalScroll,o={top:0,left:0};if(a(t,"top")||a(t,"left"))o=c(o,t);else if(n(t))2===t.length?(o.top=t[0],o.left=t[1]):(o.top=e?t[0]:0,o.left=e?0:t[0]);else if(u(t))o.top=e?t:0,o.left=e?0:t;else{if(!r(t))return null;if(t=h(t),/^\d+,\d+$/.test(t))t=t.split(","),o.top=t[0],o.left=t[1];else if(/^(top|left):\d+,?(?:(top|left):\d+)?$/.test(t)){var i=t.match(/top:(\d+)/),l=t.match(/left:(\d+)/);o.top=i?i[1]:0,o.left=l?l[1]:0}else{if(!this.container||!/^(\+|-)=(\d+)$/.test(t))return null;var s=O(this.container,e?"y":"x"),f=t.match(/^(\+|-)\=(\d+)$/),p=f[1],d=parseInt(f[2],10);"+"===p?(o.top=e?s+d:0,o.left=e?0:s+d):(o.top=e?s-d:0,o.left=e?0:s-d)}}return o.top=parseInt(o.top,10),o.left=parseInt(o.left,10),o}},{key:"updateURLHash",value:function(t){ft&&window.history.pushState(null,null,t)}},{key:"getContainer",value:function(t,n){var e=this,o=this.options,i=o.verticalScroll,r=o.horizontalScroll,l=void 0;i&&(l=y(t,"y")),!l&&r&&(l=y(t,"x")),l||Mt?n.call(this,l):!function(){var o=!1;I(_t,Et,function(){o=!0,e.getContainer(t,n)}),I(xt,"load",function(){o||e.getContainer(t,n)})}()}},{key:"bindContainerClick",value:function(){var t=this.container;t&&(this._containerClickListener=this.handleContainerClick.bind(this),I(t,"click",this._containerClickListener))}},{key:"unbindContainerClick",value:function(){var t=this.container;t&&this._containerClickListener&&(L(t,"click",this._containerClickListener),this._containerClickListener=null)}},{key:"bindContainerStop",value:function(){var t=this.container;t&&(this._stopScrollListener=this.handleStopScroll.bind(this),I(t,Lt,this._stopScrollListener))}},{key:"unbindContainerStop",value:function(){var t=this.container;t&&this._stopScrollListener&&(L(t,Lt,this._stopScrollListener),this._stopScrollListener=null)}},{key:"hook",value:function(t,n){for(var e=t[n],o=arguments.length,i=Array(o>2?o-2:0),r=2;o>r;r++)i[r-2]=arguments[r];if(l(e)){var u=e.apply(this,i);if(void 0!==u)return u}return this[n].apply(this,i)}},{key:"handleStopScroll",value:function(t){var n=this._options?this._options.stopScroll:this.options.stopScroll;n?this.stop():t.preventDefault()}},{key:"handleContainerClick",value:function(t){for(var n=this.options,e=t.target;e&&e!==_t;e=e.parentNode)if(d(e,n.trigger)){var o=e.getAttribute("data-scroll"),i=this.parseDataOptions(e),r=o||e.getAttribute("href");n=c({},n,i),n.preventDefault&&t.preventDefault(),n.stopPropagation&&t.stopPropagation(),this._trigger=e,n.horizontalScroll&&n.verticalScroll?this.to(r,n):n.verticalScroll?this.toTop(r,n):n.horizontalScroll&&this.toLeft(r,n)}}},{key:"parseDataOptions",value:function(t){var n=t.getAttribute("data-scroll-options");return n?JSON.parse(n):{}}}]),t}();return At.defaults={trigger:"[data-scroll]",header:"[data-scroll-header]",duration:1e3,delay:0,easing:"easeOutQuint",offset:0,verticalScroll:!0,horizontalScroll:!1,stopScroll:!0,updateURL:!1,preventDefault:!0,stopPropagation:!0,initialized:null,beforeScroll:null,afterScroll:null,cancelScroll:null,completeScroll:null,stepScroll:null},At});